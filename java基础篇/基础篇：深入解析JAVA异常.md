<section id="nice" data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="font-size: 16px; color: black; padding: 0 10px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;"><ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">方法中发生异常，会创建一个异常对象交给JVM处理，该异常对象包含异常名称，异常描述以及异常发生时应用程序的状态。创建异常对象并交给JVM的过程称为抛出异常。这会有一系列的方法调用，这系列方法调用的有序列表叫做调用栈</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">JVM会顺着调用栈去查找看是否有可以处理异常的代码，当JVM发现可以处理异常的代码时，会把发生的异常传递给它。如果JVM没有找到可以处理该异常的代码块，JVM就会将该异常转交给默认的异常处理器，默认处理器会打印出异常信息</section></li></ul>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">1 异常的分类和继承关系</span><span class="suffix"></span></h1>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c2baf1082b384c98a614abc1d2688e30~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">Throwable是Java语言中所有错误与异常的超类。Throwable包含两个子类：Error(错误)和Exception(异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">Error是程序中无法处理的，这些错误是不受检异常，非代码性错误。因此，当此类错误发生时，程序不应该去处理此类错误。按照惯例，我们也不应该实现任何新的Error子类的</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">Exception是程序本身可以捕获并且可以处理的异常。Exception又分为两类：运行时异常(RuntimeException)和编译时异常(受检异常)</section></li></ul>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">2 几种常见异常类的解析</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">RuntimeException(非受检异常)是Java在虚拟机运行期间抛出异常的超类。执行方法期间抛出的RuntimeException的任何子类都无需在throws子句中进行声明，因为它是uncheckedExcepiton。常见五种RuntimeException
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.ArithmeticException(算术异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.ClassCastException(类型转换异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.IllegalArgumentException(不合法的参数异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.IndexOutOfBoundsException(数组下标越界异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.NullPointerException(空指针异常)</section></li></ul>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">受检异常定义: Exception 中除 RuntimeException 及其子类之外的异常。特点: Java编译器要求程序必须捕获或声明抛出这种异常
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.io.IOException(IO流异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.ClassNotFoundException(没找到指定类异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.NoSuchFieldException(没找到指定字段异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.NoSuchMetodException(没找到指定方法异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.IllegalAccessException(非法访问异常)</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">java.lang.InterruptedException(中断异常)</section></li></ul>
</section></li></ul>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">3 Java异常关键字</span><span class="suffix"></span></h1>
<section class="table-container" data-tool="mdnice编辑器" style="overflow-x: auto;"><table style="display: table; text-align: left;">
<thead>
<tr style="border: 0; border-top: 1px solid #ccc; background-color: white;">
<th style="font-size: 16px; padding: 5px 10px; text-align: left; font-weight: bold; border: 1px solid #009688; background-color: #009688; color: #f8f8f8; border-bottom: 0; min-width: 85px;">关键字</th>
<th style="font-size: 16px; padding: 5px 10px; text-align: left; font-weight: bold; border: 1px solid #009688; background-color: #009688; color: #f8f8f8; border-bottom: 0; min-width: 85px;">作用描述</th>
</tr>
</thead>
<tbody style="border: 0;">
<tr style="border: 0; border-top: 1px solid #ccc; background-color: white;">
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">try{ }</td>
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">可能抛出异常的代码放在try语句块内，当try语句块内发生异常时，异常会被抛出</td>
</tr>
<tr style="border: 0; border-top: 1px solid #ccc; background-color: #f8f8f8;">
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">catch(e)</td>
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">捕获异常e; catch用来捕获try语句块中发生的异常，可以声明多个catch，catch里也可以捕捉多个异常</td>
</tr>
<tr style="border: 0; border-top: 1px solid #ccc; background-color: white;">
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">finally</td>
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">finally语句块总会被执行。主要用于回收在try代码块里打开的资源(如数据库连接、TCP连接和文件流)</td>
</tr>
<tr style="border: 0; border-top: 1px solid #ccc; background-color: #f8f8f8;">
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">throw</td>
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">用于抛出异常</td>
</tr>
<tr style="border: 0; border-top: 1px solid #ccc; background-color: white;">
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">throws</td>
<td style="font-size: 16px; padding: 5px 10px; text-align: left; border: 1px solid #009688; min-width: 85px;">声明该方法可能抛出的异常</td>
</tr>
</tbody>
</table>
</section><ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">注意：</strong> 执行try、catch或其他地方的return、throw语句前，需要执行finally内的代码。如果在finally中有return、throw语句，则在执行finally里的return或throw语句后，方法结束</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">int</span>&nbsp;<span class="hljs-title" style="color: #1c00cf; line-height: 26px;">hello</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String&nbsp;fileName)</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">throws</span>&nbsp;RuntimeException</span>{<br>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">int</span>&nbsp;a&nbsp;=&nbsp;<span class="hljs-number" style="color: #1c00cf; line-height: 26px;">10</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">try</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span>&nbsp;File(fileName);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInputStream&nbsp;in&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span>&nbsp;FileInputStream(file);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">return</span>&nbsp;a;&nbsp;<span class="hljs-comment" style="color: #007400; line-height: 26px;">//&nbsp;返回值10</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">catch</span>&nbsp;(FileNotFoundException&nbsp;e){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"error&nbsp;occurred"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">catch</span>&nbsp;(ArithmeticException&nbsp;|&nbsp;IndexOutOfBoundsException&nbsp;e){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"whatever"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">finally</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"finally"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;<span class="hljs-number" style="color: #1c00cf; line-height: 26px;">20</span>;&nbsp;<span class="hljs-comment" style="color: #007400; line-height: 26px;">//&nbsp;finally修改a,也不会改变try里&nbsp;return&nbsp;10&nbsp;的结局</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #007400; line-height: 26px;">//&nbsp;return&nbsp;a;&nbsp;//如果此处返回，则返回值等于&nbsp;20</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">return</span>&nbsp;-<span class="hljs-number" style="color: #1c00cf; line-height: 26px;">1</span>;<br>}<br></code></pre>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">4 开发过程处理异常注意点</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">抛出明确的异常且对异常进行文档说明</strong>
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">如果方法里有需要外部处理的异常，请声明throws抛出具体异常，方便调用方处理</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">在方法上声明抛出异常时，也需要进行注释说明。目的是为了给调用者提供尽可能多的信息，方便处理异常</section></li></ul>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">使用具有标识性的消息定义异常</strong>：方便精确定位问题</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">优先捕获最具体的子类异常</strong>
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">如果先catch异常超类，如catch（Exception e），后面捕获catch(RunTimeExcption e)的代码是不会被执行的</section></li></ul>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">不要捕获Throwable类</strong>
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">因为Throwable是Error和Exception超类，Error是JVM、系统级别错误，一般不应捕捉处理</section></li></ul>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">捕捉异常后不要不处理</strong>：导致无法定位异常错误的发生根源，建议至少也要日志输出下</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">不要记录并抛出异常</strong>：导致同一个异常输出多条相同日志，不容易找到错误根源</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">包装新异常时不要丢弃原始的异常</strong>
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">如果丢弃原始的异常，将会丢失堆栈跟踪和原始异常的消息，会使得分析异常事件变得困难</section></li></ul>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">注意：异常会影响性能</strong>
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">异常处理的性能成本非常高，创建一个异常非常慢，抛出一个异常又会消耗1~5ms。尽量不要使用异常来控制代码的逻辑</section></li></ul>
</section></li></ul>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">5 异常和AutoCloseable(1.7-JDK的语法糖)</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">在捕捉异常处理，我们经常会在try里打开资源（TCP链接，文件流）。为了防止异常发生而导致资源没被关闭，所以资源的关闭，都需要放在finally代码快里执行</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">有没有方便的方式呢？在1.7 JDK后，java提供了try--with--resource语法糖，资源对象需要实现AutoCloseable，在try()里打开资源，相关资源就会自动关闭，不再需要手动执行，不管是正常退出或异常退出
<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/39a7e5dfdc9549b88ef4ae3f5757e214~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">InputStream子类都继承了AutoCloseable，自动关闭资源类FileInputStream的使用示例</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;">File&nbsp;file&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span>&nbsp;File(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"./text.txt"</span>);<br><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">try</span>&nbsp;(FileInputStream&nbsp;in&nbsp;=<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span>&nbsp;FileInputStream(file)){<br>&nbsp;&nbsp;&nbsp;&nbsp;...<span class="hljs-comment" style="color: #007400; line-height: 26px;">//数据操作</span><br>}&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">catch</span>&nbsp;(Exception&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;log.error(e.getMessage(),&nbsp;e);<br>&nbsp;&nbsp;&nbsp;&nbsp;...<br>}<br></code></pre>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">6 throw和throws的区别</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">throw 关键字用在方法内部，只能用于抛出一种异常，用来抛出方法或代码块中的异常，受查异常和非受查异常都可以被抛出</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">throws 关键字用在方法声明上，可以抛出多个异常，用来标识该方法可能抛出的异常列表。一个方法用 throws 标识了可能抛出的异常列表，调用该方法的方法中必须包含可处理异常的代码，否则也要在方法签名中用 throws 关键字声明相应的异常</section></li></ul>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">7 guava的Throwables类了解一下</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">如果需要对异常调用链操作，可以使用Throwables工具类，Throwables常用方法：</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-comment" style="color: #007400; line-height: 26px;">//以list的方式得到throwable的异常链</span><br><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span>&nbsp;List&lt;Throwable&gt;&nbsp;<span class="hljs-title" style="color: #1c00cf; line-height: 26px;">getCausalChain</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(Throwable&nbsp;throwable)</span><br><span class="hljs-comment" style="color: #007400; line-height: 26px;">//返回最底层的异常</span><br><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span>&nbsp;Throwable&nbsp;<span class="hljs-title" style="color: #1c00cf; line-height: 26px;">getRootCause</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(Throwable&nbsp;throwable)</span><br><span class="hljs-comment" style="color: #007400; line-height: 26px;">//把受检查的异常转换为运行时异常</span><br><span class="hljs-comment" style="color: #007400; line-height: 26px;">//获取异常调用链的描述输出（每一行都有）</span><br><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span>&nbsp;String&nbsp;<span class="hljs-title" style="color: #1c00cf; line-height: 26px;">getStackTraceAsString</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(Throwable&nbsp;throwable)</span><br><span class="hljs-comment" style="color: #007400; line-height: 26px;">//如果异常是declaredType类似，则抛出异常，传递throwable</span><br><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span>&nbsp;&lt;X&nbsp;extends&nbsp;Throwable&gt;&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #1c00cf; line-height: 26px;">propagateIfInstanceOf</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Nullable&nbsp;Throwable&nbsp;throwable,&nbsp;Class&lt;X&gt;&nbsp;declaredType)</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">throws</span>&nbsp;X<br><span class="hljs-comment" style="color: #007400; line-height: 26px;">//当且仅当它是一个RuntimeException和Error时，或者是一个X的实例时，传递throwable</span><br><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #1c00cf; line-height: 26px;">propagateIfPossible</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(Throwable,&nbsp;Class&lt;X&nbsp;extends&nbsp;Throwable&gt;)</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">throws</span>&nbsp;X<br><span class="hljs-comment" style="color: #007400; line-height: 26px;">//将Throwable转为RuntimeException，不建议使用此方法</span><br><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span>&nbsp;RuntimeException&nbsp;<span class="hljs-title" style="color: #1c00cf; line-height: 26px;">propagate</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(Throwable&nbsp;throwable)</span><br></span></code></pre>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">实例</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span>&nbsp;<span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String&nbsp;args[])</span>&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">throws</span>&nbsp;FileNotFoundException&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">try</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;file&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span>&nbsp;File(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"./text.txt"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInputStream&nbsp;inputStream&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span>&nbsp;FileInputStream(file);<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">catch</span>&nbsp;(Exception&nbsp;e)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #007400; line-height: 26px;">//获取异常调用栈信息，并打印（或者保存在其他地方）</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;errorMsg&nbsp;=&nbsp;Throwables.getStackTraceAsString(e);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(errorMsg);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #007400; line-height: 26px;">//如果e是FileNotFoundException，直接抛出</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Throwables.propagateIfInstanceOf(e,&nbsp;FileNotFoundException.class);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="color: #007400; line-height: 26px;">//其他Throwable&nbsp;转为&nbsp;RuntimeException类抛出</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">throw</span>&nbsp;Throwables.propagate(e);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></code></pre>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">关注公众号，一起交流</span><span class="suffix"></span></h1>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8efe1ea91ab04f8ab53ca3c7643e7b2b~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">参考文章</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><a href="https://thinkwon.blog.csdn.net/article/details/104390689" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #009688; border-bottom: 1px solid #009688;">Java异常面试题</a></section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><a href="https://www.cnblogs.com/rollenholt/p/3527645.html" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #009688; border-bottom: 1px solid #009688;">Guava的异常工具类--Throwables</a></section></li></ul>
</section>