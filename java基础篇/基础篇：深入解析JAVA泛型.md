<section id="nice" data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="font-size: 16px; color: black; padding: 0 10px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;"><h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">1 JAVA的Type类型体系</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">先了解下java的Type类型体系(类的类=&gt;类型)，Type是所有类型（原生类型-Class、参数化类型-Parameterizedtype、数组类型-GenericArrayType、类型变量-TypeVariable、基本类型-Class）的共同接口;前两篇反射和注解讲到的Class&lt;T&gt;就是Type的一实现类
<img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5925bdf4a8ed42a0b271c93255f433ca~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">Type下面又有四个子接口类ParameterizedType、TypeVariable、GenericArrayType、WildcardType
<ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: square;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><strong style="font-weight: bold; color: black;">List&lt;E&gt;表示泛型，E是TypeVariable类型，List&lt;String&gt;则是ParameterizedType(参数化类型)</strong>，List&lt;String&gt;里的String称为实际参数类型</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">具体化泛型中的类型时，可以使用 ? extends 或 ? super来表示继承关系；如<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">List&lt;? extends Data&gt;</code>，而里面的 ? 称为通配符类型WildcardType</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">GenericArrayType 表示一种元素类型是ParameterizedType（参数化类型）或者TypeVariable（类型变量）的数组类型，如T[] 或者 List&lt;E&gt;[]</section></li></ul>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">注解是JDK1.5才出现了的，为了表示被注解的类型的，加入AnnotatedElement类型，字面意思就是被注解的元素。JDK1.8又有了AnnotatedType将Type和被注解元素的概念关联起来。
<img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/10a8a86431954fd896992b403c29432e~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">AnnotatedType也有四个子接口，和Type的四个子接口一一对应，如：ParameterizedType类型被注解则被编译器解析成AnnotatedParameterizedType: <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">@AnTest("list")List&lt;String&gt;list</code></section></li></ul>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">2 泛型的概念</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">Java 泛型（generics）是JDK1.5中引入的一个新特性，其本质是参数化类型，解决不确定具体对象类型的问题;其所操作的数据类型被指定为一个参数（type parameter）这种参数类型可以用在类、接口和方法的创建中，分别称为泛型类、泛型接口、泛型方法</section></li></ul>
<blockquote class="multiquote-1" data-tool="mdnice编辑器" style="border: none; display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; background: rgba(0, 0, 0, 0.05); padding-top: 10px; padding-bottom: 10px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; border-left: 2px solid #888; border-right: 2px solid #888; padding-left: 1em; color: #777;">
<p style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; text-align: justify; margin: 0px; color: black; line-height: 26px;">泛型: 把类型明确的工作推迟到创建对象或调用方法的时候才去明确的特殊的类型</p>
</blockquote>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">3 泛型类和泛型方法的示例</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">泛型类的定义</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">T</span>&gt; </span>{
<span/>    <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">private</span>  T param;
<span/>}
<span/><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String[] args)</span></span>{
<span/>        MainTest&lt;String&gt; data = <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span> MainTest&lt;String&gt;(){};
<span/>        ParameterizedType genType1 = (ParameterizedType)data.getClass().getGenericSuperclass();
<span/>  }
<span/></code></pre>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">泛型方法的定义</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span></span>{
<span/>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String[] args)</span></span>{
<span/>        printData(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"siting"</span>);
<span/>    }
<span/>    <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span>  &lt;T&gt; <span class="hljs-function" style="line-height: 26px;">T <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">printData</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(T t)</span></span>{
<span/>        System.out.println(t);
<span/>        <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">return</span> t;
<span/>    }
<span/>}
<span/></code></pre>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">接口和抽象类都可以使用泛型</section></li></ul>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">4 类型擦除</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">创建泛型的实例时，jvm是会把具体类型擦除的；编译生成的字节码中不包含泛型中的类型参数，即ArrayList&lt;String&gt;和ArrayList&lt;Integer&gt;都擦除成了ArrayList，也就是被擦除成"原生类型"，这就是泛型擦除</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span> </span>{
<span/>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String[] args)</span></span>{
<span/>        List&lt;String&gt; strArr  = <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span> ArrayList&lt;&gt;();
<span/>        List&lt;Integer&gt; intArr  = <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span> ArrayList&lt;&gt;();
<span/>        Type strClazz = strArr.getClass();
<span/>        Type intClazz = intArr.getClass();
<span/>    }
<span/>}
<span/></code></pre>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1d1062d771004a1e9635d20bef82e2ec~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">查看编译后的字节码文件是如何表示的: idea菜单 -&gt; view -&gt; show ByteCode</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">T</span>&gt; </span>{
<span/>    T param;
<span/>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String[] args)</span></span>{
<span/>        MainTest&lt;String&gt; test = <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span> MainTest&lt;&gt;();
<span/>        test.setParam(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"siting"</span>);
<span/>    }
<span/>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> T <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">getParam</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">()</span> </span>{  <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">return</span> param;   }
<span/>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">setParam</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(T param)</span> </span>{  <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">this</span>.param = param;  }
<span/>}
<span/></code></pre>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">com</span>/<span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span> </span>{
<span/>  ...省略
<span/>  <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">([Ljava/lang/String;)</span>V
<span/>   L0
<span/>    LINENUMBER 7 L0
<span/>    NEW com/MainTest
<span/>    DUP
<span/>    INVOKESPECIAL com/MainTest.&lt;init&gt; <span class="hljs-params" style="color: #5c2699; line-height: 26px;">()</span>V
<span/>    ASTORE 1
<span/>   L1
<span/>    LINENUMBER 8 L1
<span/>    ALOAD 1
<span/>    LDC "siting"     <span class="hljs-comment" style="color: #007400; line-height: 26px;">// 调用类型擦除后的setParam(Object)</span>
<span/>    INVOKEVIRTUAL com/MainTest.<span class="hljs-title" style="color: #1c00cf; line-height: 26px;">setParam</span> <span class="hljs-params" style="color: #5c2699; line-height: 26px;">(Ljava/lang/Object;)</span>V
<span/>   L2
<span/>   ...省略<span class="hljs-comment" style="color: #007400; line-height: 26px;">//getParam 的返回值是Object</span>
<span/>  <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">getParam</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">()</span>Ljava/lang/Object</span>;
<span/>   L0
<span/>    LINENUMBER <span class="hljs-number" style="color: #1c00cf; line-height: 26px;">10</span> L0
<span/>    ALOAD <span class="hljs-number" style="color: #1c00cf; line-height: 26px;">0</span>
<span/>    GETFIELD com/MainTest.param : Ljava/lang/Object;
<span/>    ARETURN
<span/>   ...省略<span class="hljs-comment" style="color: #007400; line-height: 26px;">//setParam 的入参是Object</span>
<span/>  <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">setParam</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(Ljava/lang/Object;)</span>V
<span/>   L0
<span/>    LINENUMBER 11 L0
<span/>    ALOAD 0
<span/>    ALOAD 1
<span/>    PUTFIELD com/MainTest.param : Ljava/lang/Object</span>;
<span/>    RETURN
<span/>   ...
<span/>}
<span/></code></pre>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">可以看出T(String)都被转换为Object类型，最初的初始化的String不见了</section></li></ul>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">5 泛型的继承</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">子类可以指定父类的泛型参数，可以是已知类（Integer、String等），也可以用子类自己的泛型参数指定</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">泛型被继承时，且指定父类泛型参数，则额外生成的ParameterizedType类型作为子类的父类；如果没有指定父类泛型参数，则直接继承原生类型</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">T</span>&gt; </span>{
<span/>    T param;
<span/>    <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">SubTest1</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">String</span>&gt;</span>{}
<span/>    <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">SubTest2</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">R</span>&gt; <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">R</span>&gt;</span>{}
<span/>    <span class="hljs-comment" style="color: #007400; line-height: 26px;">//SubTest3继承的时原生类型</span>
<span/>    <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">SubTest3</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span></span>{}
<span/>}
<span/></code></pre>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f5d8b213df574687bc9a96ca5915a94a~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">6 泛型变量TypeVariable</span><span class="suffix"></span></h1>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">（先临时定义一个名称，Test&lt;E&gt;里的E为泛型参数）；泛型变量TypeVariable：泛型的泛型参数就是TypeVariable；当父类使用子类的泛型参数指定自身的泛型参数时；或者泛型属性定义在泛型类A&lt;T&gt;中，并使用泛型类A&lt;T&gt;的泛型参数T时，其泛型参数都会被编译器定为泛型变量TypeVariable，而不是被擦除</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">T</span>&gt; </span>{
<span/>    List&lt;T&gt; param;
<span/>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">throws</span> Exception</span>{
<span/>        Class clazz =  MainTest.class;
<span/>        TypeVariable[] typeVariable = clazz.getTypeParameters();
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">// 1</span>
<span/>        Field field = clazz.getDeclaredField(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"param"</span>);
<span/>        ParameterizedType arrayType = (ParameterizedType)field.getGenericType();
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">// interface List&lt;E&gt; 的泛型类型E被T,具体化，因此其被识别为 TypeVariable</span>
<span/>        TypeVariable variable1 = (TypeVariable)arrayType.getActualTypeArguments()[<span class="hljs-number" style="color: #1c00cf; line-height: 26px;">0</span>];
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">// 2</span>
<span/>        ParameterizedType type = (ParameterizedType)SubTest.class.getGenericSuperclass();
<span/>        TypeVariable variable2 = (TypeVariable)type.getActualTypeArguments()[<span class="hljs-number" style="color: #1c00cf; line-height: 26px;">0</span>];
<span/>    }
<span/>    <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">SubTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">R</span>&gt; <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">R</span>&gt;</span>{}
<span/>}
<span/></code></pre>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/28d3717f986040eb8917e94bc48f228d~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">7 参数化类型ParameterizedType</span><span class="suffix"></span></h1>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">interface</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">ParameterizedType</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">Type</span> </span>{
<span/>    <span class="hljs-comment" style="color: #007400; line-height: 26px;">//获取实际参数，List&lt;String&gt;里的String; 如果是List&lt;T&gt;则是TypeVariable类型</span>
<span/>    Type[] getActualTypeArguments(); 
<span/>    <span class="hljs-comment" style="color: #007400; line-height: 26px;">// 获取原始类型List&lt;String&gt; -&gt; List&lt;E&gt;</span>
<span/>    <span class="hljs-function" style="line-height: 26px;">Type <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">getRawType</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">()</span></span>;  
<span/>    <span class="hljs-function" style="line-height: 26px;">Type <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">getOwnerType</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">()</span></span>;
<span/>}
<span/></code></pre>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">需要注意的点，我们不能直接获取指定具体参数的泛型的类型，如<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">Class clazz = List&lt;String&gt;.class</code>编译时不通过的；还有就是直接通过泛型类new创建的对象，其Class并非ParameterizedType类型，而是泛型本身的class，示例如下</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">T</span>&gt; </span>{
<span/>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String[] args)</span></span>{
<span/>        MainTest&lt;String&gt; str = <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span> MainTest&lt;String&gt;();
<span/>        Class variable = str.getClass();
<span/>        Type genType1 = variable.getGenericSuperclass();
<span/>    }
<span/>}
<span/></code></pre>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd4a0a274f7442468d8baab8b8184399~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">被具体参数化的泛型才能被编译器识别为ParameterizedType类型，有三种方式获取ParameterizedType类型</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-comment" style="color: #007400; line-height: 26px;">// 1 子类继承泛型时，指定具体参数（可以是String等已知类型,也可以是子类的泛型参数）</span>
<span/><span class="hljs-comment" style="color: #007400; line-height: 26px;">// 2 获取在类内部定义的泛型属性，需指定具体泛型参数</span>
<span/><span class="hljs-comment" style="color: #007400; line-height: 26px;">// 3 局部代码，可以通过泛型的匿名内部子类(需指定具体泛型参数)获取ParameterizedType类型</span>
<span/><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">T</span>&gt; </span>{
<span/>    List&lt;T&gt; list;
<span/>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">throws</span> NoSuchFieldException </span>{
<span/>        SubTest&lt;String&gt; str = <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span> SubTest&lt;&gt;();
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">// 方式一</span>
<span/>        Class variable = str.getClass();
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">// 父类是(521)ParameterizedType类型</span>
<span/>        ParameterizedType genType = (ParameterizedType)variable.getGenericSuperclass();
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">// (521)ParameterizedType类型的原生类型是（479）class com.MainTest</span>
<span/>        Type clazz = genType.getRawType();
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">//MainTest.class 的原生类型是 （479）class com.MainTest</span>
<span/>        Class rawClazz = MainTest.class;
<span/>
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">//方式二，泛型属性</span>
<span/>        Field field = rawClazz.getDeclaredField(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"list"</span>);
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">//属性list 类型是(546)ParameterizedType类型List&lt;T&gt;</span>
<span/>        ParameterizedType fieldType = (ParameterizedType)field.getGenericType();
<span/>
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">// 方式三</span>
<span/>        MainTest&lt;String&gt; sub3 = <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span> MainTest&lt;String&gt;(){};
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">// clazz3是匿名子类</span>
<span/>        Class clazz3 =  sub3.getClass();
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">//父类是(555)ParameterizedType类型</span>
<span/>        ParameterizedType genType3 = (ParameterizedType) clazz3.getGenericSuperclass();
<span/>        <span class="hljs-comment" style="color: #007400; line-height: 26px;">// (555)ParameterizedType类型的原生类型是（479）class com.MainTest</span>
<span/>        Type type3 = genType3.getRawType();
<span/>    }
<span/>    <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">SubTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">R</span>&gt; <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">extends</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">R</span>&gt;</span>{ }
<span/>}
<span/></code></pre>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f80cc6730fd74083a80e507dcec84416~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">8 通配符(WildcardType)</span><span class="suffix"></span></h1>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 22px; color: #009688; padding-left: 10px; margin: 1em auto; border-left: 3px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">无边界通配符：无界通配符 ? 可以适配任何引用类型:</span><span class="suffix"></span></h2>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">当方法参数需要传入一个泛型时，而且无法确定其类型时。直接使用无具体泛型变量的泛型，容易造成安全隐患；若在方法代码里进行类型转换，极容易出现ClassCastException错误</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">那泛型变量用Object代替不就行了？<strong style="font-weight: bold; color: black;">但是泛型类+具体参数转变的ParameterizedType(参数化类型)是不存在继承关系；即Object是String的父类，但是List&lt;Object&gt;和List&lt;String&gt;的类型是不同的两个ParameterizedType，不存在继承关系</strong>。于是有了类型通配符 ？</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">print</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(List list)</span></span>{} 
<span/>-----&gt;&gt;&gt;
<span/><span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">print</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(List&lt;?&gt; list)</span></span>{} 
<span/></code></pre>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/afaf5c0914df4cebb8ae976338395f2b~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">无界通配符可以匹配任意类型；但是在使用？时，不能给泛型类的变量设置值，因为我们不知道具体类型是什么；如果强行设置新值，后面的读容易出现ClassCastException错误。因此编译器限制了**通配符 ？**的泛型只能读不能写</section></li></ul>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 22px; color: #009688; padding-left: 10px; margin: 1em auto; border-left: 3px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">上界限定通配符 &lt; ? extends E&gt;</span><span class="suffix"></span></h2>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">想接收一个List集合，它只能操作数字类型的元素【Float、Integer、Double、Byte等数字类型都行】，怎么做？可以使用<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">List&lt;? extends Number的子类&gt;</code>，表明List里的元素都是Number的子类</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;">    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">print</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(List&lt;? extends Number&gt; list)</span> </span>{
<span/>        Number n = <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">new</span> Double(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"1.0"</span>);
<span/>        list.add(n);
<span/>        Number tmp = list.get(<span class="hljs-number" style="color: #1c00cf; line-height: 26px;">0</span>);
<span/>    }
<span/></code></pre>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b0fa5d17b54242fcbd4abe3b23ce35bf~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">图片里可以看出，存在上界通配符，因为具体类型不确定，也是只能读不能写的</section></li></ul>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 22px; color: #009688; padding-left: 10px; margin: 1em auto; border-left: 3px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">下界限定通配符 &lt; ? super E&gt;</span><span class="suffix"></span></h2>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;">class Parent{ }
<span/>class Child extends Parent{ }
<span/>public class MainTest&lt;T&gt; {
<span/>    T param;
<span/>    public static void main(String[] args){
<span/>        MainTest&lt;? super Child&gt; parent_m = new MainTest&lt;&gt;();
<span/>        parent_m.setParam(new Child());
<span/>        Object parent = parent_m.getParam();
<span/>    }
<span/>    public T <span class="hljs-function" style="line-height: 26px;"><span class="hljs-title" style="color: #1c00cf; line-height: 26px;">getParam</span></span>() {  <span class="hljs-built_in" style="color: #5c2699; line-height: 26px;">return</span> param;  }
<span/>    public void setParam(T param) {  this.param = param; }
<span/>}
<span/></code></pre>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5413835170a54c60be895186d567916e~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">如果定义了通配符是谁的父类，则是下界限定通配符；此类通配符可读可写，转成任意父类都不会出现ClassCastException错误。</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">个人猜想：难道是因为<strong style="font-weight: bold; color: black;">通配符</strong>和<strong style="font-weight: bold; color: black;">上界限定通配符</strong>的泛型 向下转型容易出现ClassCastException错误，而<strong style="font-weight: bold; color: black;">下界限定通配符</strong>向上转型不会出现ClassCastException错误，因此java规范限制前者编译出错，而后面编译通过？</section></li></ul>
<h1 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 1.8em; color: #009688; margin: 1.2em auto; text-align: center; border-bottom: 1px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">9 泛型数组(GenericArrayType)</span><span class="suffix"></span></h1>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;">public interface GenericArrayType extends Type {
<span/>    //获得这个数组元素类型，即获得：A&lt;T&gt;（A&lt;T&gt;[]）或  T（T[]）
<span/>    Type getGenericComponentType();
<span/>}
<span/></code></pre>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">GenericArrayType，泛型数组，描述的是ParameterizedType类型以及TypeVariable类型数组，即形如：Test&lt;T&gt;[][]、T[]等，是GenericArrayType的子接口</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://my-wechat.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #fff; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: black; display: block; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #fff; border-radius: 5px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">class</span> <span class="hljs-title" style="color: #5c2699; line-height: 26px;">MainTest</span>&lt;<span class="hljs-title" style="color: #5c2699; line-height: 26px;">T</span>&gt; </span>{
<span/>    T[] param;
<span/>    <span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">public</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">static</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">void</span> <span class="hljs-title" style="color: #1c00cf; line-height: 26px;">main</span><span class="hljs-params" style="color: #5c2699; line-height: 26px;">(String[] args)</span> <span class="hljs-keyword" style="color: #aa0d91; line-height: 26px;">throws</span> Exception</span>{
<span/>        Class clazz =  MainTest.class;
<span/>        Field field = clazz.getDeclaredField(<span class="hljs-string" style="color: #c41a16; line-height: 26px;">"param"</span>);
<span/>        GenericArrayType arrayType = (GenericArrayType)field.getGenericType();
<span/>        TypeVariable variable = (TypeVariable) arrayType.getGenericComponentType();
<span/>    }
<span/>}
<span/></code></pre>
<figure data-tool="mdnice编辑器" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="//p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ffa43ebe31345388ac50c4138242464~tplv-k3u1fbpfcp-zoom-1.image" alt style="display: block; margin: 0 auto; max-width: 100%;"></figure>
<hr data-tool="mdnice编辑器" style="height: 1px; margin-top: 10px; margin-bottom: 10px; border: none; border-top: 1px solid black; margin: 20px 0;">
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 22px; color: #009688; padding-left: 10px; margin: 1em auto; border-left: 3px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">欢迎指正文中错误</span><span class="suffix"></span></h2>
<h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 22px; color: #009688; padding-left: 10px; margin: 1em auto; border-left: 3px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content"><strong style="font-weight: bold; color: black;">关注公众号，一起交流，微信搜一搜: 潜行前行</strong></span><span class="suffix"></span></h2>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><a href="https://segmentfault.com/a/1190000014120746" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #009688; border-bottom: 1px solid #009688;">泛型就这么简单</a></section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><a href="https://juejin.im/post/6844904050673057799" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #009688; border-bottom: 1px solid #009688;">Java程序员必备基础：泛型解析</a></section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><a href="jb51.net/article/114805.htm" style="text-decoration: none; word-wrap: break-word; font-weight: bold; color: #009688; border-bottom: 1px solid #009688;">Java 获取泛型的类型实例详解</a></section></li></ul>
</section>